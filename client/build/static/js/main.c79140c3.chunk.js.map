{"version":3,"sources":["sections.js","category.js","Footer.js","item.js","App.js","index.js"],"names":["Sections","categories","map","item","value","id","title","Category","handleRemoveCategory","useState","setValue","useEffect","onSubmit","e","axios","post","headers","preventDefault","onChange","target","type","onClick","Footer","category","setCategory","name","description","inputs","setInputs","createCategory","setCreateCategory","setId","handleInputChange","event","then","prev","filter","catch","err","console","log","className","Item","deleteItem","data","setData","handleDescription","style","minHeight","width","border","marginBottom","fontSize","float","App","product","setProducts","get","result","res","height","marginTop","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c79140c3.chunk.js","sourcesContent":["function Sections({ categories }) {\r\n  return (\r\n    <>\r\n      {categories.map((item) => {\r\n        return (\r\n          <option value={item.id} key={item.id}>\r\n            {item.title}\r\n          </option>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\nexport default Sections;\r\n","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction Category({ item, handleRemoveCategory }) {\r\n  let [value, setValue] = useState(null);\r\n  let handleCategoryChanger = (e) => {\r\n    axios.post(\r\n      \"http://localhost:4000/api/updateCategory\",\r\n      {\r\n        id: item.id,\r\n        title: value,\r\n      },\r\n      {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n    e.preventDefault();\r\n  };\r\n  useEffect(() => {\r\n    setValue(item.title);\r\n  }, [item]);\r\n  let changeHandler = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleCategoryChanger}>\r\n        <input value={value} onChange={changeHandler} />\r\n        <input type=\"submit\" value=\"Изменить\" />\r\n        <button type=\"submit\" onClick={() => handleRemoveCategory(item.id)}>\r\n          удалить\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Category;\r\n","import { useState, useEffect } from \"react\";\r\nimport Sections from \"./sections\";\r\nimport Category from \"./category\";\r\nimport axios from \"axios\";\r\n\r\nfunction Footer({ categories }) {\r\n  const [category, setCategory] = useState(categories);\r\n  const [inputs, setInputs] = useState({ name: \"\", description: \"\" });\r\n  const [createCategory, setCreateCategory] = useState(\"\");\r\n  const [id, setId] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setCategory(categories);\r\n    setId(categories[0]?.id);\r\n  }, [categories]);\r\n\r\n  let handleSubmit = (e) => {\r\n    axios.post(\r\n      \"http://localhost:4000/api/addproduct\",\r\n      {\r\n        inputs,\r\n        id,\r\n      },\r\n      {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n    e.preventDefault();\r\n  };\r\n\r\n  let handleCreateCategory = (e) => {\r\n    axios.post(\r\n      \"http://localhost:4000/api/addcategory\",\r\n      {\r\n        createCategory,\r\n      },\r\n      {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n    e.preventDefault();\r\n  };\r\n\r\n  let handleInputChange = (event) => {\r\n    let { name, value } = event.target;\r\n    setInputs({\r\n      ...inputs,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  let handleSelect = (e) => {\r\n    setId(e.target.value);\r\n  };\r\n  let handleRemoveCategory = (id) => {\r\n    axios\r\n      .post(\"http://localhost:4000/api/deleteCategory\", {\r\n        id,\r\n      })\r\n      .then(() => {\r\n        setCategory((prev) => prev.filter((item) => item.id !== id));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"block\">\r\n        <div className=\"editing\">\r\n          <div>Создать товар</div>\r\n          <form onSubmit={handleSubmit}>\r\n            <label className=\"formText\">Название</label>\r\n            <input name=\"name\" type=\"text\" onChange={handleInputChange}></input>\r\n            <br />\r\n            <label className=\"formText\">Описание</label>\r\n            <input\r\n              name=\"description\"\r\n              type=\"text\"\r\n              onChange={handleInputChange}\r\n            ></input>\r\n            <br />\r\n            <label className=\"formText\">Категория</label>\r\n\r\n            <select onChange={handleSelect} value={id}>\r\n              {<Sections categories={category} />}\r\n            </select>\r\n            <br />\r\n            <input type=\"submit\" value=\"Создать\" />\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"editing\">\r\n          <div>Создать категорию</div>\r\n          <form onSubmit={handleCreateCategory}>\r\n            <label className=\"formText\">Название</label>\r\n            <input\r\n              type=\"text\"\r\n              onChange={(e) => setCreateCategory(e.target.value)}\r\n            ></input>\r\n            <br />\r\n            <input type=\"submit\" value=\"Создать\" />\r\n          </form>\r\n        </div>\r\n        <div className=\"editing\">\r\n          <div>Изменить название категории</div>\r\n          {category.map((item) => {\r\n            return (\r\n              <Category\r\n                item={item}\r\n                handleRemoveCategory={handleRemoveCategory}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction Item({ item, deleteItem }) {\r\n  let [data, setData] = useState({\r\n    id: item.id,\r\n    title: item.title,\r\n    description: item.description,\r\n  });\r\n  useEffect(() => {\r\n    setData({\r\n      id: item.id,\r\n      title: item.title,\r\n      description: item.description,\r\n    });\r\n  }, [item]);\r\n  let handleDescription = (e) => {\r\n    console.log(e.target.value);\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  let handleSubmit = () => {\r\n    axios.post(\r\n      \"http://localhost:4000/api/updateItem\",\r\n      {\r\n        data,\r\n      },\r\n      {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n  };\r\n  return (\r\n    <div\r\n      key={item.id}\r\n      style={{\r\n        minHeight: 100,\r\n        width: 300,\r\n        border: `2px solid`,\r\n        marginBottom: 20,\r\n      }}\r\n    >\r\n      <button\r\n        style={{ fontSize: 10, float: \"left\" }}\r\n        onClick={() => deleteItem(item.id)}\r\n      >\r\n        удалить\r\n      </button>\r\n      <input\r\n        type=\"text\"\r\n        name=\"title\"\r\n        value={data.title}\r\n        onChange={handleDescription}\r\n      ></input>\r\n      <button style={{ fontSize: 10, float: \"right\" }} onClick={handleSubmit}>\r\n        Изменить\r\n      </button>\r\n      <hr />\r\n      <textarea\r\n        name=\"description\"\r\n        value={data.description}\r\n        onChange={handleDescription}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Item;\r\n","import { useState, useEffect } from \"react\";\nimport Sections from \"./sections\";\nimport Footer from \"./Footer\";\nimport Item from \"./item\";\nimport axios from \"axios\";\nimport \"./App.css\";\n\nfunction App() {\n  const [category, setCategory] = useState([]);\n  const [product, setProducts] = useState([]);\n\n  const [value, setValue] = useState(1);\n\n  let handleChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:4000/api/categories\")\n      .then((result) => {\n        setCategory(result.data);\n        setValue(result.data[0].id);\n      })\n      .then(() => {});\n  }, []);\n\n  useEffect(() => {\n    axios\n      .post(\n        \"http://localhost:4000/api/products\",\n        {\n          value,\n        },\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n        }\n      )\n      .then((res) => {\n        setProducts(res.data);\n      });\n  }, [value]);\n\n  let deleteItem = (id) => {\n    axios\n      .post(\"http://localhost:4000/api/deleteItem\", {\n        id,\n      })\n      .then(() => {\n        setProducts((prev) => prev.filter((item) => item.id !== id));\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"App\">\n      <select\n        style={{ width: 100, height: 30, marginTop: 100 }}\n        onChange={handleChange}\n        value={value}\n      >\n        <Sections categories={category} />\n      </select>\n      <header className=\"App-header\">\n        <div style={{ marginTop: 100 }}>\n          {product.map((item) => {\n            return <Item item={item} deleteItem={deleteItem} />;\n          })}\n        </div>\n      </header>\n      <Footer categories={category} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}