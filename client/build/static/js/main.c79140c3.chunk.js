(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n.n(c),a=n(16),o=n.n(a),s=(n(21),n(3)),r=n(0);var l=function(t){var e=t.categories;return Object(r.jsx)(r.Fragment,{children:e.map((function(t){return Object(r.jsx)("option",{value:t.id,children:t.title},t.id)}))})},j=n(5),u=n(6),d=n(4),b=n.n(d);var p=function(t){var e=t.item,n=t.handleRemoveCategory,i=Object(c.useState)(null),a=Object(s.a)(i,2),o=a[0],l=a[1];return Object(c.useEffect)((function(){l(e.title)}),[e]),Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:function(t){b.a.post("http://localhost:4000/api/updateCategory",{id:e.id,title:o},{headers:{"Content-Type":"application/json"}}),t.preventDefault()},children:[Object(r.jsx)("input",{value:o,onChange:function(t){l(t.target.value)}}),Object(r.jsx)("input",{type:"submit",value:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(r.jsx)("button",{type:"submit",onClick:function(){return n(e.id)},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})]})})};var h=function(t){var e=t.categories,n=Object(c.useState)(e),i=Object(s.a)(n,2),a=i[0],o=i[1],d=Object(c.useState)({name:"",description:""}),h=Object(s.a)(d,2),O=h[0],f=h[1],x=Object(c.useState)(""),m=Object(s.a)(x,2),v=m[0],g=m[1],y=Object(c.useState)(0),C=Object(s.a)(y,2),S=C[0],T=C[1];Object(c.useEffect)((function(){var t;o(e),T(null===(t=e[0])||void 0===t?void 0:t.id)}),[e]);var N=function(t){var e=t.target,n=e.name,c=e.value;f(Object(u.a)(Object(u.a)({},O),{},Object(j.a)({},n,c)))},k=function(t){b.a.post("http://localhost:4000/api/deleteCategory",{id:t}).then((function(){o((function(e){return e.filter((function(e){return e.id!==t}))}))})).catch((function(t){return console.log(t)}))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"block",children:[Object(r.jsxs)("div",{className:"editing",children:[Object(r.jsx)("div",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),Object(r.jsxs)("form",{onSubmit:function(t){b.a.post("http://localhost:4000/api/addproduct",{inputs:O,id:S},{headers:{"Content-Type":"application/json"}}),t.preventDefault()},children:[Object(r.jsx)("label",{className:"formText",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(r.jsx)("input",{name:"name",type:"text",onChange:N}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"formText",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("input",{name:"description",type:"text",onChange:N}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"formText",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(r.jsx)("select",{onChange:function(t){T(t.target.value)},value:S,children:Object(r.jsx)(l,{categories:a})}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"submit",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})]}),Object(r.jsxs)("div",{className:"editing",children:[Object(r.jsx)("div",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),Object(r.jsxs)("form",{onSubmit:function(t){b.a.post("http://localhost:4000/api/addcategory",{createCategory:v},{headers:{"Content-Type":"application/json"}}),t.preventDefault()},children:[Object(r.jsx)("label",{className:"formText",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(r.jsx)("input",{type:"text",onChange:function(t){return g(t.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"submit",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})]}),Object(r.jsxs)("div",{className:"editing",children:[Object(r.jsx)("div",{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),a.map((function(t){return Object(r.jsx)(p,{item:t,handleRemoveCategory:k})}))]})]})})};var O=function(t){var e=t.item,n=t.deleteItem,i=Object(c.useState)({id:e.id,title:e.title,description:e.description}),a=Object(s.a)(i,2),o=a[0],l=a[1];Object(c.useEffect)((function(){l({id:e.id,title:e.title,description:e.description})}),[e]);var d=function(t){console.log(t.target.value),l(Object(u.a)(Object(u.a)({},o),{},Object(j.a)({},t.target.name,t.target.value)))};return Object(r.jsxs)("div",{style:{minHeight:100,width:300,border:"2px solid",marginBottom:20},children:[Object(r.jsx)("button",{style:{fontSize:10,float:"left"},onClick:function(){return n(e.id)},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(r.jsx)("input",{type:"text",name:"title",value:o.title,onChange:d}),Object(r.jsx)("button",{style:{fontSize:10,float:"right"},onClick:function(){b.a.post("http://localhost:4000/api/updateItem",{data:o},{headers:{"Content-Type":"application/json"}})},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(r.jsx)("hr",{}),Object(r.jsx)("textarea",{name:"description",value:o.description,onChange:d})]},e.id)};n(41);var f=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],i=e[1],a=Object(c.useState)([]),o=Object(s.a)(a,2),j=o[0],u=o[1],d=Object(c.useState)(1),p=Object(s.a)(d,2),f=p[0],x=p[1];Object(c.useEffect)((function(){b.a.get("http://localhost:4000/api/categories").then((function(t){i(t.data),x(t.data[0].id)})).then((function(){}))}),[]),Object(c.useEffect)((function(){b.a.post("http://localhost:4000/api/products",{value:f},{headers:{"Content-Type":"application/json"}}).then((function(t){u(t.data)}))}),[f]);var m=function(t){b.a.post("http://localhost:4000/api/deleteItem",{id:t}).then((function(){u((function(e){return e.filter((function(e){return e.id!==t}))}))})).catch((function(t){return console.log(t)}))};return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("select",{style:{width:100,height:30,marginTop:100},onChange:function(t){x(t.target.value)},value:f,children:Object(r.jsx)(l,{categories:n})}),Object(r.jsx)("header",{className:"App-header",children:Object(r.jsx)("div",{style:{marginTop:100},children:j.map((function(t){return Object(r.jsx)(O,{item:t,deleteItem:m})}))})}),Object(r.jsx)(h,{categories:n})]})};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(f,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.c79140c3.chunk.js.map